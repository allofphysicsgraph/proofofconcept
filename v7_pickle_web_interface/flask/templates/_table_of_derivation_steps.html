
<table border="1" class="sortable">
  <tr>
    <th>Step ID</th>
    <th>Inference Rule</th>
    <th>Input<BR>local ID</th>
    <th>Input latex</th>
    <th>Feed<BR>local ID</th>
    <th>Feeds latex</th>
    <th>Output<BR>local ID</th>
    <th>Output latex</th>
    <th>Linear index</th>
    <th>step validity</th>
  </tr>
{% for step_id, this_dict in step_dict.items() %}
  <tr>
    <td>
      <a name="{{ step_id }}">
        <a href="{{ url_for('modify_step', name_of_derivation=name_of_derivation, step_id=step_id) }}">
          {{ step_id }}
        </a>
      </a>
    </td>
    <td><a href="{{ url_for('list_all_inference_rules') }}#{{ this_dict['inf rule'] }}">{{ this_dict['inf rule'] }}</a></td>
    <!-- input local ID -->
    <td>
      <OL>
        {% for local_id in this_dict['inputs'] %}
          <LI> <a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ local_id }}</a></LI>
        {% endfor %}
      </OL>
    </td>
    <!-- input latex -->
    <td>
      <OL>
{% for local_id in this_dict['inputs'] %}
        <LI>
          <a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ expr_local_to_gobal[local_id] }}</a>: <BR>
          {{ expressions_dict[expr_local_to_gobal[local_id]]['latex'] }}<BR>
        </LI>
        {% endfor %}
      </OL>
    </td>
    <!-- feeds local ID -->
    <td>
      <OL>
{% for local_id in this_dict['feeds'] %}
         <LI> <a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ local_id }}</a>
         </LI>
        {% endfor %}
      </OL>
    </td>
    <!-- feeds latex -->
    <td>
      <OL>
{% for local_id in this_dict['feeds'] %}
         <LI> <a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ expr_local_to_gobal[local_id] }}</a>: <BR>
          {{ expressions_dict[expr_local_to_gobal[local_id]]['latex'] }}<BR>
         </LI>
        {% endfor %}
      </OL>
    </td>
    <!-- output local ID -->
    <td>
      <OL>
       {% for local_id in this_dict['outputs'] %}
       <LI><a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ local_id }}</a>
       </LI>
        {% endfor %}
      </OL>
    </td>
    <!-- output latex -->
    <td>
      <OL>
 {% for local_id in this_dict['outputs'] %}
       <LI>
          <a href="{{ url_for('list_all_expressions')}}#{{ expr_local_to_gobal[local_id] }}">
          {{ expr_local_to_gobal[local_id] }}</a>: <BR>{{ expressions_dict[expr_local_to_gobal[local_id]]['latex'] }}<BR>
       </LI> 
     {% endfor %}
      </OL>
    </td>
    <!-- linear index -->
    <td>{{ this_dict['linear index'] }}</td>
    <!-- from sympy -->
    <td>{{ derivation_validity_dict[step_id] }}</td>
  </tr>
{% endfor %}
  <caption>
    <a name="table of derivation steps">
      Physics Derivation Graph: Steps for {{ name_of_derivation}}
    </a>
  </caption>
</table>

