{% extends "_base.html" %}
{% block content %}


<!-- https://developers.google.com/identity/sign-in/web/sign-in#before_you_begin -->
<script>
function onSignIn(googleUser) {
  var profile = googleUser.getBasicProfile();
  console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
  console.log('Name: ' + profile.getName());
  console.log('Image URL: ' + profile.getImageUrl());
  console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
}
</script>

<P>From the Physics Derivation Graph navigation, you can
  <UL>
    <LI>
      <a href="{{ url_for('show_all_derivations') }}?referrer=navigation">show all derivations</a>
    </LI>
    <LI>
      <a href="{{ url_for('start_new_derivation') }}?referrer=navigation">start a new derivation</a>
      {% if current_user.is_anonymous %}
        -- requires being <a href="{{ url_for('login') }}?referrer=navigation">signed in</a>
      {% endif %}
    </LI>
    {% if number_of_derivations > 0 %}
    <LI>
      <a href="{{ url_for('select_from_existing_derivations') }}?referrer=navigation">view one of the existing {{ number_of_derivations }} derivations</a>;
      also edit an existing derivation
      {% if current_user.is_anonymous %}
        if you are <a href="{{ url_for('login') }}?referrer=navigation">signed in</a>
      {% endif %}
    </LI>
    {% endif %}
    <LI>
      <a href="{{ url_for('list_all_inference_rules') }}?referrer=navigation">list all {{ number_of_infrules }} inference rules</a>;
      also edit inference rules
      {% if current_user.is_anonymous %}
        if you are <a href="{{ url_for('login') }}?referrer=navigation">signed in</a>
      {% endif %}
    </LI>
    {% if number_of_expressions > 0 %}
      <LI>
        <a href="{{ url_for('list_all_expressions') }}?referrer=navigation">list all {{ number_of_expressions }} expressions</a>;
        also edit expressions
      {% if current_user.is_anonymous %}
        if you are <a href="{{ url_for('login') }}?referrer=navigation">signed in</a>
      {% endif %}
      </LI>
    {% endif %}
    <LI>
      <a href="{{ url_for('list_all_symbols') }}?referrer=navigation">list all {{ number_of_symbols }} symbols</a>
    </LI>
    <LI>
      <a href="{{ url_for('list_all_operators') }}?referrer=navigation">list all {{ number_of_operators }} operators</a>
    </LI>
  </UL>
</P>

<P>
Download the current database file as
<a href="{{ url_for('static', filename=database_json) }}?referrer=navigation" download="{{ database_json }}">JSON</a> or
<a href="{{ url_for('static', filename=database_sql) }}?referrer=navigation" download="{{ database_sql }}">SQLite3</a> or
<a href="{{ url_for('static', filename=database_df_pkl) }}?referrer=navigation" download="{{ database_df_pkl }}">Pickle of dataframes</a> or
<a href="{{ url_for('static', filename=database_rdf) }}?referrer=navigation" download="{{ database_rdf }}">OWL RDF</a> or
<a href="{{ url_for('static', filename=database_neo4j) }}?referrer=navigation" download="{{ database_neo4j }}">Neo4j Cypher</a>
</P>


      {% if current_user.is_anonymous %}
        Upload database file if you are <a href="{{ url_for('login') }}?referrer=navigation">signed in</a>
      {% else %}
<!-- https://www.google.com/search?q=flask+upload+file -->
Upload database file (JSON only):
<!-- from https://flask.palletsprojects.com/en/1.1.x/patterns/fileuploads/ -->
<form method="post" enctype="multipart/form-data" id="upload_form">
  <input type="file" name="file">
  <input type="submit" name="upload_button" value="Upload">
</form>
</p>
{% endif %}

{% endblock %}
